{"ast":null,"code":"import _objectSpread from \"/home/kien/HocTap/TestProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/kien/HocTap/TestProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/kien/HocTap/TestProject/src/page/shop/ShopPage.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { productController } from '../../controller/ProductController';\nimport Pagination from './Pagination';\nimport ShopItem from './ShopItem';\nimport './ShopPage.css';\nexport default function ProductsShow(props) {\n  var _this = this;\n\n  var _useState = useState({\n    listShow: [],\n    inputSearch: \"\",\n    currentPage: 1,\n    totalPage: []\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  console.log(state.currentPage);\n  useEffect(function () {\n    productController.pageShow(state.currentPage).then(function (res) {\n      return setState(_objectSpread({}, state, {\n        listShow: res.listProduct,\n        totalPage: res.number\n      }));\n    });\n  });\n\n  var onCLickSearch = function onCLickSearch() {\n    setState(_objectSpread({}, state, {\n      listShow: state.listShow.filter(function (item) {\n        return item.name.includes(state.inputSearch);\n      })\n    }));\n  }; // const onCLickRefresh=()=>{\n  //     setState({...state,listShow:props.listProduct})\n  // }\n\n\n  var sortArray = function sortArray(e) {\n    var listSort = state.listShow.slice();\n\n    if (e === \"AZ\") {\n      setState(_objectSpread({}, state, {\n        listShow: listSort.sort(function (a, b) {\n          return a.name.toLowerCase() > b.name.toLowerCase() ? 1 : -1;\n        })\n      }));\n    } else if (e === \"ZA\") {\n      setState(_objectSpread({}, state, {\n        listShow: listSort.sort(function (a, b) {\n          return a.name.toLowerCase() < b.name.toLowerCase() ? 1 : -1;\n        })\n      }));\n    } else if (e === \"Ascend\") {\n      setState(_objectSpread({}, state, {\n        listShow: listSort.sort(function (a, b) {\n          return a.price > b.price ? 1 : -1;\n        })\n      }));\n    } else if (e === \"Descend\") {\n      setState(_objectSpread({}, state, {\n        listShow: listSort.sort(function (a, b) {\n          return a.price < b.price ? 1 : -1;\n        })\n      }));\n    } else {\n      setState(_objectSpread({}, state, {\n        listShow: state.listShow\n      }));\n    }\n  };\n\n  var setPage = function setPage(page) {\n    setState(_objectSpread({}, state, {\n      currentPage: page\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"shopping-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-show\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"group-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"search-product\",\n    placeholder: \"Search\",\n    onChange: function onChange(e) {\n      return setState(_objectSpread({}, state, {\n        inputSearch: e.target.value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn\",\n    onClick: onCLickSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, \"Search\")), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"dropdown\",\n    onChange: function onChange(e) {\n      return sortArray(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"N/A\",\n    className: \"txtSort\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \"Sort\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"AZ\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, \"Name: A-Z\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"ZA\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, \"Name: Z-A\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Ascend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, \"Price: Ascending\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Descend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, \"Price: Descending\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-list-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, state.listShow.map(function (item) {\n    return /*#__PURE__*/React.createElement(ShopItem, {\n      key: item.id,\n      product: item,\n      onClickAddToCart: props.onClickAddToCart,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 49\n      }\n    });\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-pagination-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pagination-prev btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, \" Back \"), state.totalPage.map(function (item) {\n    return /*#__PURE__*/React.createElement(Pagination, {\n      key: item,\n      page: item,\n      setPage: setPage,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 53\n      }\n    });\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, \"...\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pagination-next btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, \"Next\")));\n}","map":{"version":3,"sources":["/home/kien/HocTap/TestProject/src/page/shop/ShopPage.tsx"],"names":["React","useEffect","useState","productController","Pagination","ShopItem","ProductsShow","props","listShow","inputSearch","currentPage","totalPage","state","setState","console","log","pageShow","then","res","listProduct","number","onCLickSearch","filter","item","name","includes","sortArray","e","listSort","slice","sort","a","b","toLowerCase","price","setPage","page","target","value","map","id","onClickAddToCart"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport { productController } from '../../controller/ProductController'\nimport { Product } from '../../model/Product'\nimport Pagination from './Pagination'\nimport ShopItem from './ShopItem'\nimport './ShopPage.css'\n\ninterface Props{\n    // listProduct:Product[]\n    onClickAddToCart:(id:String)=>void\n}\n\ninterface State{\n    listShow:Product[],\n    inputSearch:string,\n    currentPage:number,\n    totalPage:number[]\n}\n\nexport default function ProductsShow(props:Props) {\n\n    const [state,setState]=useState<State>({\n        listShow:[],\n        inputSearch:\"\",\n        currentPage:1,\n        totalPage:[]\n    })\n    console.log(state.currentPage);\n    \n\n\n    useEffect(() => {\n        productController.pageShow(state.currentPage).then(res=>\n            setState({...state,listShow:res.listProduct,totalPage:res.number}\n        ))\n    })\n\n\n    const onCLickSearch=()=>{\n        setState({...state,listShow:state.listShow.filter(item=>item.name.includes(state.inputSearch))})\n    }\n\n    // const onCLickRefresh=()=>{\n    //     setState({...state,listShow:props.listProduct})\n    // }\n\n\n    const sortArray =(e:any)=>{\n        const listSort= state.listShow.slice()\n        if(e===\"AZ\"){\n            setState({...state,\n                listShow: listSort.sort((a, b) => (a.name.toLowerCase()>b.name.toLowerCase()) ? 1 : -1)\n            })\n        }else if(e===\"ZA\"){\n            setState({...state,\n                listShow:listSort.sort((a, b) => (a.name.toLowerCase()<b.name.toLowerCase()) ? 1 : -1)\n            })\n        }else if(e===\"Ascend\"){\n            setState({...state,\n                listShow:listSort.sort((a, b) => (a.price > b.price) ? 1 : -1)\n            })\n        }else if(e===\"Descend\"){\n            setState({...state,\n                listShow:listSort.sort((a, b) => (a.price < b.price) ? 1 : -1)\n            })\n        }else{\n            setState({...state,listShow:state.listShow})\n        }\n    }\n\n\n    const setPage=(page:number)=>{\n        setState({...state,currentPage:page})\n    }\n\n    return (\n        <div id=\"shopping-container\">\n            <div className=\"shop-show\">\n                <div className=\"title-bar\">\n                    <div className=\"group-search\">\n                        <input type=\"text\" className=\"search-product\" placeholder='Search' \n                                            onChange={e=> setState({...state,inputSearch:e.target.value})}/>\n                        <button className=\"btn\" onClick={onCLickSearch}>Search</button>\n                        {/* <button className=\"btn\" onClick={onCLickRefresh}>Refresh</button> */}\n                    </div>\n                    <select id=\"dropdown\" onChange={(e) => sortArray(e.target.value)}>\n                        <option value=\"N/A\" className=\"txtSort\">Sort</option>\n                        <option value=\"AZ\">Name: A-Z</option>\n                        <option value=\"ZA\">Name: Z-A</option>\n                        <option value=\"Ascend\">Price: Ascending</option>\n                        <option value=\"Descend\">Price: Descending</option>\n                    </select>\n                </div>\n                <div className=\"shop-list-container\">\n                    {state.listShow.map((item)=><ShopItem key={item.id}  product={item} onClickAddToCart={props.onClickAddToCart}/>)}\n                </div>\n            </div>\n            <div className=\"shop-pagination-container\">\n                    <button className=\"pagination-prev btn\"> Back </button>\n                        \n                        {state.totalPage.map(item=> < Pagination key={item} page={item} setPage={setPage} />)}\n                        \n                        <span>...</span>\n                    <button className=\"pagination-next btn\">Next</button>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}