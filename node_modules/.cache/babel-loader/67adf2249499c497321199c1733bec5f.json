{"ast":null,"code":"import _objectSpread from \"/home/kien/HocTap/TestProject2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/kien/HocTap/TestProject2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/kien/HocTap/TestProject2/src/page/cart/CartPage.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { productController } from '../../controller/ProductController';\nimport { getListFromLocal } from '../../model/Cart';\nimport './CartPage.css';\nimport ItemCartRender from './ItemCartRender';\nexport default function CartPage() {\n  var _this = this;\n\n  var _useState = useState({\n    carts: getListFromLocal(),\n    CartItems: []\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  console.log(state.CartItems);\n  useEffect(function () {\n    productController.list().then(function (res) {\n      var listProduct = res;\n      var listCarts = [];\n      var itemCart = {\n        id: \"\",\n        name: \"\",\n        price: 0,\n        image: \"\",\n        quantity: 0\n      };\n\n      for (var i = 0; i < state.carts.length; i++) {\n        for (var j = 0; j < listProduct.length; j++) {\n          if (state.carts[i].id === listProduct[j].id) {\n            itemCart.id = listProduct[j].id, itemCart.image = listProduct[j].image, itemCart.name = listProduct[j].name, itemCart.price = listProduct[j].price, itemCart.quantity = Number(state.carts[i].quantity), listCarts.push(itemCart);\n          }\n        }\n      }\n\n      setState(_objectSpread({}, state, {\n        CartItems: listCarts\n      })); // state.carts.map((item)=>{\n      //     listProduct.map((item2)=>{\n      //         item.id===item2.id ? (\n      //             itemCart.id=item2.id,\n      //             itemCart.image=item2.image,\n      //             itemCart.name=item2.name,\n      //             itemCart.price=item2.price,\n      //             itemCart.quantity=Number(item.quantity),\n      //             listCarts.push(itemCart)\n      //         ) :\"\"\n      //     })\n      // })\n      // // console.log(listCarts);\n      // setState({...state,CartItems:listCarts})\n    }, []);\n  });\n\n  var showCart = function showCart() {\n    if (state.carts.length > 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"show-list\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        className: \"table-title\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 37\n        }\n      }, \"Product\")), /*#__PURE__*/React.createElement(\"th\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 37\n        }\n      }, \"Quantity\")), /*#__PURE__*/React.createElement(\"th\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 37\n        }\n      }, \"Subtotal\"))), state.CartItems.map(function (item) {\n        return /*#__PURE__*/React.createElement(ItemCartRender, {\n          key: +item.id,\n          itemCart: item,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 56\n          }\n        });\n      }), /*#__PURE__*/React.createElement(\"tr\", {\n        className: \"table-row\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"table-column-2\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 33\n        }\n      }, \"Total\"), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"table-column-3\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 33\n        }\n      }, \"600$\"))), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }\n      }, \"Order\"));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cart-empty\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }, \"Your cart is Empty\"));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"cart-page-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"cart-page-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, \"Your Cart:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"show-list-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, showCart())));\n}","map":{"version":3,"sources":["/home/kien/HocTap/TestProject2/src/page/cart/CartPage.tsx"],"names":["React","useEffect","useState","productController","getListFromLocal","ItemCartRender","CartPage","carts","CartItems","state","setState","console","log","list","then","res","listProduct","listCarts","itemCart","id","name","price","image","quantity","i","length","j","Number","push","showCart","map","item"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { createScanner } from 'typescript'\nimport { productController } from '../../controller/ProductController'\nimport ItemCart, { getListFromLocal } from '../../model/Cart'\nimport { CartItem } from '../../model/CartItem'\nimport { Product } from '../../model/Product'\nimport './CartPage.css'\nimport ItemCartRender from './ItemCartRender'\n\n\nexport interface State{\n    carts:ItemCart[],\n    CartItems:CartItem[]\n}\n\n\nexport default function CartPage() {\n\n    const [state,setState]=useState<State>({\n        carts:getListFromLocal(),\n        CartItems:[]\n    })\n\n    console.log(state.CartItems);\n    \n\n    useEffect(() => {\n        productController.list().then(res=>{\n            let listProduct:Product[]=res;\n            let listCarts:CartItem[]=[]\n            let itemCart:CartItem ={id:\"\",name:\"\",price:0,image:\"\",quantity:0};\n            \n            for(let i=0;i<state.carts.length;i++){\n                for(let j=0;j<listProduct.length;j++){\n                    if (state.carts[i].id===listProduct[j].id){\n                        itemCart.id=listProduct[j].id,\n                        itemCart.image=listProduct[j].image,\n                        itemCart.name=listProduct[j].name,\n                        itemCart.price=listProduct[j].price,\n                        itemCart.quantity=Number(state.carts[i].quantity),\n                        listCarts.push(itemCart)\n                    }\n                }\n            }\n            setState({...state,CartItems:listCarts})\n            // state.carts.map((item)=>{\n            //     listProduct.map((item2)=>{\n            //         item.id===item2.id ? (\n            //             itemCart.id=item2.id,\n            //             itemCart.image=item2.image,\n            //             itemCart.name=item2.name,\n            //             itemCart.price=item2.price,\n            //             itemCart.quantity=Number(item.quantity),\n            //             listCarts.push(itemCart)\n            //         ) :\"\"\n            //     })\n            // })\n            // // console.log(listCarts);\n            // setState({...state,CartItems:listCarts})\n        },[])\n        \n    })\n\n\n    const showCart=()=>{\n        if(state.carts.length>0){\n            return  <div>\n                        <table className=\"show-list\">\n                            <tr className=\"table-title\">\n                                <th><p>Product</p></th>\n                                <th><p>Quantity</p></th>\n                                <th><p>Subtotal</p></th>\n                            </tr>\n                            \n                            {state.CartItems.map(item=><ItemCartRender key={+item.id} itemCart={item}/>)}\n                            \n                            <tr className=\"table-row\">\n                                <td></td>\n                                <td className='table-column-2'>Total</td>\n                                <td className='table-column-3'>600$</td>\n                            </tr>\n                        </table>\n                        <button className='btn'>Order</button>\n                    </div>      \n        }else{\n            return <div className='cart-empty'>\n                <h1>Your cart is Empty</h1>\n            </div>\n        }\n    }\n\n    return (\n        <div id=\"cart-page-container\">\n            <div className=\"cart-page\">\n                <h1 className=\"cart-page-title\">Your Cart:</h1>\n                <div className=\"show-list-container\">\n                    {showCart()}\n                </div>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}